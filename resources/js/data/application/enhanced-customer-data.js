/**
 * ========================================
 * ENHANCED CUSTOMER DATA STRUCTURE
 * With 3-Phase Workflow Support
 * ========================================
 */

import { ALL_STATUSES, calculateProgress } from './workflow-config.js';

// ============================================
// ENHANCED CUSTOMER DATA
// ============================================
export const enhancedCustomerData = [
    // PHASE 1: APPLICATION & DOCUMENTATION
    {
        cust_id: 1,
        customer_code: 'CUST-2024-001',
        create_date: '2024-01-20 09:00:00',
        cust_last_name: 'Dela Cruz',
        cust_first_name: 'Juan',
        cust_middle_name: 'Santos',
        email: 'juan.delacruz@email.com',
        phone: '09171234567',
        address: 'Purok 1, Poblacion, Barangay Central',
        area: 'Zone A',
        meterReader: 'John Smith',
        readingSchedule: '2024-02-05',
        id_type: 'National ID',
        id_number: 'NID-1234-5678-9012',
        registration_type: 'RESIDENTIAL',
        workflow_status: 'NEW_APPLICATION',
        requirements_complete: 0,
        documents_printed_at: null,
        documents_printed_count: 0,
        requirements_submitted_at: null,
        requirements_verified_at: null,
        payment_completed_at: null,
        approved_at: null,
        connected_at: null,
        account_no: 'ACC-2024-5101',
        meter_no: 'MTR-2001',
        meter_installed_date: '2024-01-22 10:00:00',
        initial_reading: 0,
        stat_id: 1
    },
    {
        cust_id: 2,
        customer_code: 'CUST-2024-002',
        create_date: '2024-01-19 14:30:00',
        cust_last_name: 'Santos',
        cust_first_name: 'Maria',
        cust_middle_name: 'Garcia',
        email: 'maria.santos@email.com',
        phone: '09181234567',
        address: 'Purok 2, San Jose, Barangay East',
        area: 'Zone B',
        meterReader: 'Jane Doe',
        readingSchedule: '2024-02-10',
        id_type: 'Driver\'s License',
        id_number: 'DL-A12-34-567890',
        registration_type: 'RESIDENTIAL',
        workflow_status: 'DOCS_PRINTED',
        requirements_complete: 0,
        documents_printed_at: '2024-01-20 10:15:00',
        documents_printed_count: 1,
        requirements_submitted_at: null,
        requirements_verified_at: null,
        payment_completed_at: null,
        approved_at: null,
        connected_at: null,
        account_no: 'ACC-2024-5102',
        meter_no: 'MTR-2002',
        meter_installed_date: '2024-01-21 14:30:00',
        initial_reading: 0,
        stat_id: 1
    },
    {
        cust_id: 3,
        customer_code: 'CUST-2024-003',
        create_date: '2024-01-18 11:00:00',
        cust_last_name: 'Garcia',
        cust_first_name: 'Pedro',
        cust_middle_name: 'Lopez',
        email: 'pedro.garcia@email.com',
        phone: '09191234567',
        address: 'Purok 3, Maligaya, Barangay West',
        area: 'Zone C',
        meterReader: 'Mike Johnson',
        readingSchedule: '2024-02-15',
        id_type: 'Passport',
        id_number: 'P1234567',
        registration_type: 'COMMERCIAL',
        workflow_status: 'REQUIREMENTS_SUBMITTED',
        requirements_complete: 0,
        documents_printed_at: '2024-01-19 09:00:00',
        documents_printed_count: 2,
        requirements_submitted_at: '2024-01-20 14:00:00',
        requirements_verified_at: null,
        payment_completed_at: null,
        approved_at: null,
        connected_at: null,
        account_no: 'ACC-2024-5103',
        meter_no: 'MTR-2003',
        meter_installed_date: '2024-01-20 09:15:00',
        initial_reading: 0,
        stat_id: 1
    },
    {
        cust_id: 4,
        customer_code: 'CUST-2024-004',
        create_date: '2024-01-17 08:30:00',
        cust_last_name: 'Rodriguez',
        cust_first_name: 'Ana',
        cust_middle_name: 'Martinez',
        email: 'ana.rodriguez@email.com',
        phone: '09201234567',
        address: 'Purok 4, San Roque, Barangay North',
        area: 'Zone A',
        meterReader: 'John Smith',
        readingSchedule: '2024-02-05',
        id_type: 'National ID',
        id_number: 'NID-9876-5432-1098',
        registration_type: 'RESIDENTIAL',
        workflow_status: 'REQUIREMENTS_VERIFIED',
        requirements_complete: 1,
        documents_printed_at: '2024-01-18 10:00:00',
        documents_printed_count: 1,
        requirements_submitted_at: '2024-01-19 11:00:00',
        requirements_verified_at: '2024-01-20 09:30:00',
        payment_completed_at: null,
        approved_at: null,
        connected_at: null,
        account_no: 'ACC-2024-5104',
        meter_no: 'MTR-2004',
        meter_installed_date: '2024-01-21 11:00:00',
        initial_reading: 0,
        stat_id: 1
    },

    // PHASE 2: BILLING & PAYMENT
    {
        cust_id: 5,
        customer_code: 'CUST-2024-005',
        create_date: '2024-01-16 13:00:00',
        cust_last_name: 'Lopez',
        cust_first_name: 'Carlos',
        cust_middle_name: 'Reyes',
        email: 'carlos.lopez@email.com',
        phone: '09211234567',
        address: 'Purok 5, Dampol, Barangay South',
        area: 'Zone B',
        meterReader: 'Jane Doe',
        readingSchedule: '2024-02-10',
        id_type: 'Driver\'s License',
        id_number: 'DL-B98-76-543210',
        registration_type: 'RESIDENTIAL',
        workflow_status: 'READY_FOR_PAYMENT',
        requirements_complete: 1,
        documents_printed_at: '2024-01-17 09:00:00',
        documents_printed_count: 1,
        requirements_submitted_at: '2024-01-18 10:00:00',
        requirements_verified_at: '2024-01-19 14:00:00',
        payment_completed_at: null,
        approved_at: null,
        connected_at: null,
        account_no: 'ACC-2024-5105',
        meter_no: 'MTR-2005',
        meter_installed_date: '2024-01-19 08:30:00',
        initial_reading: 0,
        stat_id: 1
    },
    {
        cust_id: 6,
        customer_code: 'CUST-2024-006',
        create_date: '2024-01-15 10:00:00',
        cust_last_name: 'Chen',
        cust_first_name: 'Lisa',
        cust_middle_name: 'Wang',
        email: 'lisa.chen@email.com',
        phone: '09221234567',
        address: 'Purok 6, Central Plaza, Barangay Centro',
        area: 'Zone C',
        meterReader: 'Mike Johnson',
        readingSchedule: '2024-02-15',
        id_type: 'National ID',
        id_number: 'NID-5555-6666-7777',
        registration_type: 'COMMERCIAL',
        workflow_status: 'PAYMENT_PENDING',
        requirements_complete: 1,
        documents_printed_at: '2024-01-16 11:00:00',
        documents_printed_count: 2,
        requirements_submitted_at: '2024-01-17 09:00:00',
        requirements_verified_at: '2024-01-18 10:00:00',
        payment_completed_at: null,
        approved_at: null,
        connected_at: null,
        account_no: 'ACC-2024-5106',
        meter_no: 'MTR-2006',
        meter_installed_date: '2024-01-18 13:45:00',
        initial_reading: 0,
        stat_id: 1
    },
    {
        cust_id: 7,
        customer_code: 'CUST-2024-007',
        create_date: '2024-01-14 15:00:00',
        cust_last_name: 'Johnson',
        cust_first_name: 'Mark',
        cust_middle_name: 'David',
        email: 'mark.johnson@email.com',
        phone: '09231234567',
        address: 'Purok 7, Riverside, Barangay East',
        area: 'Zone A',
        meterReader: 'John Smith',
        readingSchedule: '2024-02-05',
        id_type: 'Passport',
        id_number: 'P9876543',
        registration_type: 'RESIDENTIAL',
        workflow_status: 'PAYMENT_VERIFIED',
        requirements_complete: 1,
        documents_printed_at: '2024-01-15 08:00:00',
        documents_printed_count: 1,
        requirements_submitted_at: '2024-01-16 10:00:00',
        requirements_verified_at: '2024-01-17 11:00:00',
        payment_completed_at: '2024-01-20 14:30:00',
        approved_at: null,
        connected_at: null,
        account_no: 'ACC-2024-5107',
        meter_no: 'MTR-2007',
        meter_installed_date: '2024-01-21 10:15:00',
        initial_reading: 0,
        stat_id: 1
    },

    // PHASE 3: APPROVAL & CONNECTION
    {
        cust_id: 8,
        customer_code: 'CUST-2024-008',
        create_date: '2024-01-13 09:00:00',
        cust_last_name: 'Martinez',
        cust_first_name: 'Sofia',
        cust_middle_name: 'Cruz',
        email: 'sofia.martinez@email.com',
        phone: '09241234567',
        address: 'Purok 8, Hillside, Barangay West',
        area: 'Zone B',
        meterReader: 'Jane Doe',
        readingSchedule: '2024-02-10',
        id_type: 'National ID',
        id_number: 'NID-1111-2222-3333',
        registration_type: 'RESIDENTIAL',
        workflow_status: 'READY_FOR_APPROVAL',
        requirements_complete: 1,
        documents_printed_at: '2024-01-14 10:00:00',
        documents_printed_count: 1,
        requirements_submitted_at: '2024-01-15 11:00:00',
        requirements_verified_at: '2024-01-16 09:00:00',
        payment_completed_at: '2024-01-19 15:00:00',
        approved_at: null,
        connected_at: null,
        account_no: 'ACC-2024-5108',
        meter_no: 'MTR-2008',
        meter_installed_date: '2024-01-20 14:00:00',
        initial_reading: 0,
        stat_id: 1
    },
    {
        cust_id: 9,
        customer_code: 'CUST-2024-009',
        create_date: '2024-01-12 11:30:00',
        cust_last_name: 'Wilson',
        cust_first_name: 'David',
        cust_middle_name: 'Lee',
        email: 'david.wilson@email.com',
        phone: '09251234567',
        address: 'Purok 9, Lakeside, Barangay North',
        area: 'Zone C',
        meterReader: 'Mike Johnson',
        readingSchedule: '2024-02-15',
        id_type: 'Driver\'s License',
        id_number: 'DL-C11-22-334455',
        registration_type: 'RESIDENTIAL',
        workflow_status: 'APPROVED',
        requirements_complete: 1,
        documents_printed_at: '2024-01-13 09:00:00',
        documents_printed_count: 1,
        requirements_submitted_at: '2024-01-14 10:00:00',
        requirements_verified_at: '2024-01-15 11:00:00',
        payment_completed_at: '2024-01-18 14:00:00',
        approved_at: '2024-01-20 10:00:00',
        connected_at: null,
        account_no: 'ACC-2024-5001',
        meter_no: null,
        stat_id: 1
    },
    {
        cust_id: 10,
        customer_code: 'CUST-2024-010',
        create_date: '2024-01-11 14:00:00',
        cust_last_name: 'Brown',
        cust_first_name: 'Emma',
        cust_middle_name: 'Rose',
        email: 'emma.brown@email.com',
        phone: '09261234567',
        address: 'Purok 10, Mountain View, Barangay South',
        area: 'Zone A',
        meterReader: 'John Smith',
        readingSchedule: '2024-02-05',
        id_type: 'National ID',
        id_number: 'NID-4444-5555-6666',
        registration_type: 'RESIDENTIAL',
        workflow_status: 'CONNECTION_SCHEDULED',
        requirements_complete: 1,
        documents_printed_at: '2024-01-12 10:00:00',
        documents_printed_count: 1,
        requirements_submitted_at: '2024-01-13 11:00:00',
        requirements_verified_at: '2024-01-14 09:00:00',
        payment_completed_at: '2024-01-17 15:00:00',
        approved_at: '2024-01-19 11:00:00',
        connected_at: null,
        account_no: 'ACC-2024-5002',
        meter_no: null,
        meter_installed_date: null,
        initial_reading: null,
        stat_id: 1
    },
    {
        cust_id: 11,
        customer_code: 'CUST-2024-011',
        create_date: '2024-01-10 08:00:00',
        cust_last_name: 'Taylor',
        cust_first_name: 'Robert',
        cust_middle_name: 'James',
        email: 'robert.taylor@email.com',
        phone: '09271234567',
        address: 'Purok 11, Seaside, Barangay Centro',
        area: 'Zone D',
        meterReader: 'Sarah Williams',
        readingSchedule: '2024-02-20',
        id_type: 'Passport',
        id_number: 'P5555555',
        registration_type: 'COMMERCIAL',
        workflow_status: 'METER_ASSIGNED',
        requirements_complete: 1,
        documents_printed_at: '2024-01-11 09:00:00',
        documents_printed_count: 2,
        requirements_submitted_at: '2024-01-12 10:00:00',
        requirements_verified_at: '2024-01-13 11:00:00',
        payment_completed_at: '2024-01-16 14:00:00',
        approved_at: '2024-01-18 10:00:00',
        connected_at: null,
        account_no: 'ACC-2024-5003',
        meter_no: 'MTR-1001',
        meter_installed_date: null,
        initial_reading: null,
        stat_id: 1
    },
    {
        cust_id: 12,
        customer_code: 'CUST-2024-012',
        create_date: '2024-01-09 10:30:00',
        cust_last_name: 'Davis',
        cust_first_name: 'Jennifer',
        cust_middle_name: 'Anne',
        email: 'jennifer.davis@email.com',
        phone: '09281234567',
        address: 'Purok 12, Valley View, Barangay East',
        area: 'Zone E',
        meterReader: 'Tom Brown',
        readingSchedule: '2024-02-25',
        id_type: 'National ID',
        id_number: 'NID-7777-8888-9999',
        registration_type: 'RESIDENTIAL',
        workflow_status: 'ACTIVE_CONSUMER',
        requirements_complete: 1,
        documents_printed_at: '2024-01-10 09:00:00',
        documents_printed_count: 1,
        requirements_submitted_at: '2024-01-11 10:00:00',
        requirements_verified_at: '2024-01-12 11:00:00',
        payment_completed_at: '2024-01-15 14:00:00',
        approved_at: '2024-01-17 10:00:00',
        connected_at: '2024-01-20 09:00:00',
        account_no: 'ACC-2024-5004',
        meter_no: 'MTR-1002',
        meter_installed_date: '2024-01-20 09:00:00',
        initial_reading: 0,
        stat_id: 1
    },

    // SPECIAL CASES
    {
        cust_id: 13,
        customer_code: 'CUST-2024-013',
        create_date: '2024-01-08 13:00:00',
        cust_last_name: 'Anderson',
        cust_first_name: 'Michael',
        cust_middle_name: 'Paul',
        email: 'michael.anderson@email.com',
        phone: '09291234567',
        address: 'Purok 13, Garden Hills, Barangay West',
        area: 'Zone B',
        meterReader: 'Jane Doe',
        readingSchedule: '2024-02-10',
        id_type: 'Driver\'s License',
        id_number: 'DL-D55-66-778899',
        registration_type: 'RESIDENTIAL',
        workflow_status: 'ON_HOLD',
        requirements_complete: 0,
        documents_printed_at: '2024-01-09 10:00:00',
        documents_printed_count: 1,
        requirements_submitted_at: null,
        requirements_verified_at: null,
        payment_completed_at: null,
        approved_at: null,
        connected_at: null,
        account_no: null,
        meter_no: null,
        stat_id: 2
    },

    // MORE NEW APPLICATIONS
    {
        cust_id: 14,
        customer_code: 'CUST-2024-014',
        create_date: '2024-01-21 08:00:00',
        cust_last_name: 'Reyes',
        cust_first_name: 'Isabella',
        cust_middle_name: 'Marie',
        email: 'isabella.reyes@email.com',
        phone: '09301234567',
        address: 'Purok 1, Riverside, Barangay North',
        area: 'Zone A',
        meterReader: 'John Smith',
        readingSchedule: '2024-02-05',
        id_type: 'National ID',
        id_number: 'NID-2222-3333-4444',
        registration_type: 'RESIDENTIAL',
        workflow_status: 'NEW_APPLICATION',
        requirements_complete: 0,
        documents_printed_at: null,
        documents_printed_count: 0,
        requirements_submitted_at: null,
        requirements_verified_at: null,
        payment_completed_at: null,
        approved_at: null,
        connected_at: null,
        account_no: null,
        meter_no: null,
        stat_id: 1
    },
    {
        cust_id: 15,
        customer_code: 'CUST-2024-015',
        create_date: '2024-01-21 09:30:00',
        cust_last_name: 'Fernandez',
        cust_first_name: 'Gabriel',
        cust_middle_name: 'Luis',
        email: 'gabriel.fernandez@email.com',
        phone: '09311234567',
        address: 'Purok 2, Sunset View, Barangay South',
        area: 'Zone B',
        meterReader: 'Jane Doe',
        readingSchedule: '2024-02-10',
        id_type: 'SSS ID',
        id_number: 'SSS-12-3456789-0',
        registration_type: 'COMMERCIAL',
        workflow_status: 'NEW_APPLICATION',
        requirements_complete: 0,
        documents_printed_at: null,
        documents_printed_count: 0,
        requirements_submitted_at: null,
        requirements_verified_at: null,
        payment_completed_at: null,
        approved_at: null,
        connected_at: null,
        account_no: null,
        meter_no: null,
        stat_id: 1
    },
    {
        cust_id: 16,
        customer_code: 'CUST-2024-016',
        create_date: '2024-01-21 10:15:00',
        cust_last_name: 'Villanueva',
        cust_first_name: 'Sophia',
        cust_middle_name: 'Grace',
        email: 'sophia.villanueva@email.com',
        phone: '09321234567',
        address: 'Purok 3, Palm Street, Barangay East',
        area: 'Zone C',
        meterReader: 'Mike Johnson',
        readingSchedule: '2024-02-15',
        id_type: 'PhilHealth ID',
        id_number: 'PH-1234567890123',
        registration_type: 'RESIDENTIAL',
        workflow_status: 'NEW_APPLICATION',
        requirements_complete: 0,
        documents_printed_at: null,
        documents_printed_count: 0,
        requirements_submitted_at: null,
        requirements_verified_at: null,
        payment_completed_at: null,
        approved_at: null,
        connected_at: null,
        account_no: null,
        meter_no: null,
        stat_id: 1
    },
    {
        cust_id: 17,
        customer_code: 'CUST-2024-017',
        create_date: '2024-01-21 11:00:00',
        cust_last_name: 'Ramos',
        cust_first_name: 'Daniel',
        cust_middle_name: 'Jose',
        email: 'daniel.ramos@email.com',
        phone: '09331234567',
        address: 'Purok 4, Mango Avenue, Barangay Centro',
        area: 'Zone D',
        meterReader: 'Sarah Williams',
        readingSchedule: '2024-02-20',
        id_type: 'Driver\'s License',
        id_number: 'DL-E12-34-567890',
        registration_type: 'RESIDENTIAL',
        workflow_status: 'NEW_APPLICATION',
        requirements_complete: 0,
        documents_printed_at: null,
        documents_printed_count: 0,
        requirements_submitted_at: null,
        requirements_verified_at: null,
        payment_completed_at: null,
        approved_at: null,
        connected_at: null,
        account_no: null,
        meter_no: null,
        stat_id: 1
    },
    {
        cust_id: 18,
        customer_code: 'CUST-2024-018',
        create_date: '2024-01-21 13:30:00',
        cust_last_name: 'Torres',
        cust_first_name: 'Olivia',
        cust_middle_name: 'Rose',
        email: 'olivia.torres@email.com',
        phone: '09341234567',
        address: 'Purok 5, Coconut Lane, Barangay West',
        area: 'Zone E',
        meterReader: 'Tom Brown',
        readingSchedule: '2024-02-25',
        id_type: 'Passport',
        id_number: 'P7654321',
        registration_type: 'COMMERCIAL',
        workflow_status: 'NEW_APPLICATION',
        requirements_complete: 0,
        documents_printed_at: null,
        documents_printed_count: 0,
        requirements_submitted_at: null,
        requirements_verified_at: null,
        payment_completed_at: null,
        approved_at: null,
        connected_at: null,
        account_no: null,
        meter_no: null,
        stat_id: 1
    },
    {
        cust_id: 19,
        customer_code: 'CUST-2024-019',
        create_date: '2024-01-21 14:45:00',
        cust_last_name: 'Mendoza',
        cust_first_name: 'Lucas',
        cust_middle_name: 'Antonio',
        email: 'lucas.mendoza@email.com',
        phone: '09351234567',
        address: 'Purok 6, Bamboo Street, Barangay North',
        area: 'Zone A',
        meterReader: 'John Smith',
        readingSchedule: '2024-02-05',
        id_type: 'National ID',
        id_number: 'NID-8888-9999-0000',
        registration_type: 'RESIDENTIAL',
        workflow_status: 'NEW_APPLICATION',
        requirements_complete: 0,
        documents_printed_at: null,
        documents_printed_count: 0,
        requirements_submitted_at: null,
        requirements_verified_at: null,
        payment_completed_at: null,
        approved_at: null,
        connected_at: null,
        account_no: null,
        meter_no: null,
        stat_id: 1
    }
];

// ============================================
// HELPER FUNCTIONS
// ============================================
export function getCustomersByPhase(phase) {
    return enhancedCustomerData.filter(customer => {
        const statusConfig = ALL_STATUSES[customer.workflow_status];
        return statusConfig && statusConfig.phase === phase;
    });
}

export function getCustomersByStatus(status) {
    return enhancedCustomerData.filter(customer => customer.workflow_status === status);
}

export function getCustomerProgress(customerCode) {
    const customer = enhancedCustomerData.find(c => c.customer_code === customerCode);
    if (!customer) return 0;
    return calculateProgress(customer.workflow_status);
}

// Make available globally
if (typeof window !== 'undefined') {
    window.enhancedCustomerData = enhancedCustomerData;
    window.CustomerDataHelpers = {
        getCustomersByPhase,
        getCustomersByStatus,
        getCustomerProgress
    };
}
